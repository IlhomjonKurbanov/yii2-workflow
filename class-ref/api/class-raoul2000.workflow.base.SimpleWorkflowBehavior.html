<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class raoul2000\workflow\base\SimpleWorkflowBehavior | yii2-workflow Class Reference</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?973e37a8502921d56bc02bb55321f45b072b6f71">
	<link rel="stylesheet" href="resources/style.css?49f43d3208c5d7e33fa16d36107a345bf11cc00d">

</head>

<body>
	<nav id="navigation" class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">yii2-workflow Class Reference</a>
			</div>
			<div class="collapse navbar-collapse">

                <form id="search" class="navbar-form navbar-left" role="search">
                    <input type="hidden" name="cx" value="">
                    <input type="hidden" name="ie" value="UTF-8">
                    <div class="form-group">
                        <input type="text" name="q" class="search-query form-control" placeholder="Search">
					</div>
				</form>

				<ul class="nav navbar-nav">
					<li>
						<a href="namespace-raoul2000.workflow.base.html" title="Summary of raoul2000\workflow\base"><span>Namespace</span></a>
					</li>
					<li class="active">
<span>Class</span>					</li>





				</ul>
			</div>
		</div>
	</nav>

	<div id="left">
	<div id="menu">

		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
					<li class="active">
						<a href="namespace-raoul2000.html">
							raoul2000<span></span>
						</a>
							<ul>
					<li class="active">
						<a href="namespace-raoul2000.workflow.html">
							workflow<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-raoul2000.workflow.actions.html">
							actions						</a>
							</li>
					<li class="active">
						<a href="namespace-raoul2000.workflow.base.html">
							base						</a>
							</li>
					<li>
						<a href="namespace-raoul2000.workflow.events.html">
							events						</a>
							</li>
					<li>
						<a href="namespace-raoul2000.workflow.helpers.html">
							helpers						</a>
							</li>
					<li>
						<a href="namespace-raoul2000.workflow.source.html">
							source<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-raoul2000.workflow.source.file.html">
							file						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-raoul2000.workflow.validation.html">
							validation						</a>
							</li>
								</ul></li></ul></li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-raoul2000.workflow.base.SimpleWorkflowBehavior.html">SimpleWorkflowBehavior</a></li>
				<li><a href="class-raoul2000.workflow.base.Status.html">Status</a></li>
				<li><a href="class-raoul2000.workflow.base.StatusIdConverter.html">StatusIdConverter</a></li>
				<li><a href="class-raoul2000.workflow.base.Transition.html">Transition</a></li>
				<li><a href="class-raoul2000.workflow.base.Workflow.html">Workflow</a></li>
				<li><a href="class-raoul2000.workflow.base.WorkflowBaseObject.html">WorkflowBaseObject</a></li>
				<li><a href="class-raoul2000.workflow.base.WorkflowException.html">WorkflowException</a></li>
				<li><a href="class-raoul2000.workflow.base.WorkflowValidationException.html">WorkflowValidationException</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-raoul2000.workflow.base.IStatusAccessor.html">IStatusAccessor</a></li>
				<li><a href="class-raoul2000.workflow.base.IStatusIdConverter.html">IStatusIdConverter</a></li>
				<li><a href="class-raoul2000.workflow.base.StatusInterface.html">StatusInterface</a></li>
				<li><a href="class-raoul2000.workflow.base.TransitionInterface.html">TransitionInterface</a></li>
				<li><a href="class-raoul2000.workflow.base.WorkflowInterface.html">WorkflowInterface</a></li>
			</ul>




		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class SimpleWorkflowBehavior</h1>


	<div class="description">
	<p>SimpleWorkflowBehavior implements the behavior of a model evolving inside a <em>Simple Workflow</em>.</p>

<p>To use <em>SimpleWorkflowBehavior</em> with the default parameters, simply attach it to the model class like you would do
for any standard Yii2 behavior.</p>

<pre><span class="php-keyword1">use</span> raoul2000\workflow\base\SimpleWorkflowBehavior;

<span class="php-keyword1">public</span> <span class="php-keyword1">function</span> behaviors()
{
    <span class="php-keyword1">return</span> [
        <span class="php-quote">'simpleWorkflow'</span> =&gt; [
            <span class="php-quote">'class'</span> =&gt; SimpleWorkflowBehavior::className()
        ],
    ];
}</pre>

<p>To learn more about Yii2 behaviors refer to the <a href="http://www.yiiframework.com/doc-2.0/guide-concept-behaviors.html">Yii2 Definitive Guide</a></p>

<p>You can customize the <em>SimpleWorkflowBehavior</em> with the following parameters :</p>

<ul>
<li><code>statusAttribute</code> : name of the attribute that is used by the owner model to hold the status value. The
default value is "status".</li>
<li><code>defaultWorkflowId</code> : identifier of the default workflow for the owner model. If no value is provided, the behavior
creates a default workflow identifier (see  [[getDefaultWorkflowId]]).</li>
<li><code>source</code> : name of the <em>Workflow Source Component</em> that the behavior uses to read the workflow definition. By default
the component id "workflowSource" is used. If it is not already available in the current application it is created by the behavior using the
default workflow source component class.</li>
</ul>

<p>Below is an example behavior initialization :</p>

<pre><span class="php-keyword1">use</span> raoul2000\workflow\base\SimpleWorkflowBehavior;

<span class="php-keyword1">public</span> <span class="php-keyword1">function</span> behaviors()
{
    <span class="php-keyword1">return</span> [
        <span class="php-quote">'simpleWorkflow'</span> =&gt; [
            <span class="php-quote">'class'</span> =&gt; SimpleWorkflowBehavior::className(),
            <span class="php-quote">'statusAttribute'</span> =&gt; <span class="php-quote">'col_status'</span>,
            <span class="php-quote">'defaultWorkflowId'</span> =&gt; <span class="php-quote">'MyWorkflow'</span>,
            <span class="php-quote">'source'</span> =&gt; <span class="php-quote">'myWorkflowSource'</span>,
        ],
    ];
}</pre>
	</div>

	<dl class="tree well">
		<dd style="padding-left:0px">
yii\base\Behavior
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>raoul2000\workflow\base\SimpleWorkflowBehavior</span></b>			
			
			
		</dd>
	</dl>








	<div class="alert alert-info">
		
		
		<b>Namespace:</b> <a href="namespace-raoul2000.html">raoul2000</a>\<a href="namespace-raoul2000.workflow.html">workflow</a>\<a href="namespace-raoul2000.workflow.base.html">base</a><br>
		

			<b>Located at</b> base/SimpleWorkflowBehavior.php		<br>
	</div>



		<div class="panel panel-default">
			<div class="panel-heading"><h2>Methods summary</h2></div>
			<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="__construct" id="___construct">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___construct">#</a>
			<code>__construct( <span>array <var>$config</var> = []</span> )</code>

			<div class="description short">
				<p>Instance constructor.</p>
			</div>

			<div class="description detailed hidden">
				<p>Instance constructor.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$config</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="init" id="_init">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_init">#</a>
			<code>init( )</code>

			<div class="description short">
				<p>Initialize the behavior.</p>
			</div>

			<div class="description detailed hidden">
				<p>Initialize the behavior.</p>

<p>At initialization time, following actions are performed :</p>

<ul>
<li>get a reference to the workflow source component. If it doesn't exist, it is created.</li>
<li>get a reference to the event model component or create it if not configured.</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="attach" id="_attach">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_attach">#</a>
			<code>attach( <span> <var>$owner</var></span> )</code>

			<div class="description short">
				<p>Attaches the behavior to the model.</p>
			</div>

			<div class="description detailed hidden">
				<p>Attaches the behavior to the model.</p>

<p>The operation is successful if the owner component has the appropriate attribute or property to store the workflow
status value. The name of this attribute or property is set to 'status' by default, but can be configured
using the <code>statusAttribute</code> configuration parameter at construction time.</p>

<p>Note that using a property instead of a model attribute to store the status value is not recomended as it is then the developer
responsability to ensure that the workflow operations are consistent, in particular regarding persistence.</p>

<p>If previous requirements are met, the internal status value is initialized.</p>





					<h4>See</h4>
					<div class="list">
							http://www.yiiframework.com/doc-2.0/yii-base-behavior.html#attach()-detail<br>
							<code><a href="class-raoul2000.workflow.base.SimpleWorkflowBehavior.html#_initStatus">raoul2000\workflow\base\SimpleWorkflowBehavior::initStatus()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="events" id="_events">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_events">#</a>
			<code>events( )</code>

			<div class="description short">
				<p>Install events handlers.</p>
			</div>

			<div class="description detailed hidden">
				<p>Install events handlers.</p>

<p>Following event are used :</p>

<ul>
<li>ActiveRecord::EVENT_AFTER_FIND</li>
<li>ActiveRecord::EVENT_BEFORE_INSERT</li>
<li>ActiveRecord::EVENT_BEFORE_UPDATE</li>
<li>ActiveRecord::EVENT_AFTER_UPDATE</li>
<li>ActiveRecord::EVENT_AFTER_INSERT</li>
<li>ActiveRecord::EVENT_AFTER_DELETE</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="initStatus" id="_initStatus">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_initStatus">#</a>
			<code>initStatus( )</code>

			<div class="description short">
				<p>Initialize the internal status value based on the owner model status attribute.</p>
			</div>

			<div class="description detailed hidden">
				<p>Initialize the internal status value based on the owner model status attribute.</p>

<p>The <b>status</b> attribute belonging to the owner model is retrieved and if not
empty, converted into the corresponding Status object instance.
This method does not trigger any event, it is only restoring the model into its workflow. It is invoked when the behavior
is attached to the model, and on AFTER_FIND event.</p>




					<h4>Throws</h4>
					<div class="list">
						<code><a href="class-raoul2000.workflow.base.WorkflowException.html">raoul2000\workflow\base\WorkflowException</a></code><br>if the status attribute could not be converted into a Status object
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="enterWorkflow" id="_enterWorkflow">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_enterWorkflow">#</a>
			<code>enterWorkflow( <span>string <var>$workflowId</var> = <span class="php-keyword1">null</span></span> )</code>

			<div class="description short">
				<p>Puts the owner model into the workflow <code>$workflowId</code> or into its default workflow if no
argument is provided.
If the owner model is already in a workflow, an exception is thrown. If this method ends
with no error, the owner model's status is the initial status of the selected workflow.</p>
			</div>

			<div class="description detailed hidden">
				<p>Puts the owner model into the workflow <code>$workflowId</code> or into its default workflow if no
argument is provided.
If the owner model is already in a workflow, an exception is thrown. If this method ends
with no error, the owner model's status is the initial status of the selected workflow.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$workflowId</var></dt>
						<dd><p>the ID of the workflow the owner model must be inserted to or NULL to insert
into the model's default workflow.</p></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean<br>TRUE if the operation succeeded, FALSE otherwise
					</div>

					<h4>Throws</h4>
					<div class="list">
						<code><a href="class-raoul2000.workflow.base.WorkflowException.html">raoul2000\workflow\base\WorkflowException</a></code>
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="afterSaveStatus" id="_afterSaveStatus">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_afterSaveStatus">#</a>
			<code>afterSaveStatus( <span>yii\base\Event <var>$event</var></span> )</code>

			<div class="description short">
				<p>After the owner model has been saved, fire pending events.
This is the event handler for both ActiveRecord::EVENT_AFTER_UPDATE and ActiveRecord::EVENT_AFTER_INSERT events</p>
			</div>

			<div class="description detailed hidden">
				<p>After the owner model has been saved, fire pending events.
This is the event handler for both ActiveRecord::EVENT_AFTER_UPDATE and ActiveRecord::EVENT_AFTER_INSERT events</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$event</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="beforeSaveStatus" id="_beforeSaveStatus">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_beforeSaveStatus">#</a>
			<code>beforeSaveStatus( <span>yii\base\Event <var>$event</var></span> )</code>

			<div class="description short">
				<p>Send owner model into status if needed.
This is the event handler for both ActiveRecord::EVENT_BEFORE_INSERT and ActiveRecord::EVENT_BEFORE_UPDATE events</p>
			</div>

			<div class="description detailed hidden">
				<p>Send owner model into status if needed.
This is the event handler for both ActiveRecord::EVENT_BEFORE_INSERT and ActiveRecord::EVENT_BEFORE_UPDATE events</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$event</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="beforeDelete" id="_beforeDelete">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_beforeDelete">#</a>
			<code>beforeDelete( <span>yii\base\Event <var>$event</var></span> )</code>

			<div class="description short">
				<p>Handle the case where the owner model is leaving the workflow.
This is the event handler for ActiveRecord::EVENT_BEFORE_DELETE</p>
			</div>

			<div class="description detailed hidden">
				<p>Handle the case where the owner model is leaving the workflow.
This is the event handler for ActiveRecord::EVENT_BEFORE_DELETE</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$event</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="afterDelete" id="_afterDelete">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_afterDelete">#</a>
			<code>afterDelete( <span>yii\base\Event <var>$event</var></span> )</code>

			<div class="description short">
				<p>Fires pending events, once the owner model has been successfully deleted.
This is the event handler for ActiveRecord::EVENT_AFTER_DELETE</p>
			</div>

			<div class="description detailed hidden">
				<p>Fires pending events, once the owner model has been successfully deleted.
This is the event handler for ActiveRecord::EVENT_AFTER_DELETE</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$event</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="sendToStatus" id="_sendToStatus">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_sendToStatus">#</a>
			<code>sendToStatus( <span><code><a href="class-raoul2000.workflow.base.Status.html">raoul2000\workflow\base\Status</a></code>|string <var>$status</var></span> )</code>

			<div class="description short">
				<p>Send the owner model into the status passed as argument.</p>
			</div>

			<div class="description detailed hidden">
				<p>Send the owner model into the status passed as argument.</p>

<p>If the transition between the current status and <code>$status</code> can be performed,
the status attribute in the owner model is updated with the value of the new status, otherwise
it is not changed.
This method can be invoked directly but you should keep in mind that it does not handle status
persistance.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$status</var></dt>
						<dd><p>the destination status to reach. If NULL, then the owner model
is going to leave its current workflow.</p></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean<br>TRUE if the transition could be performed, FALSE otherwise
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getEventSequence" id="_getEventSequence">

			<td class="attributes"><code>
				 public 
				<code><a href="class-raoul2000.workflow.events.WorkflowEvent.html">raoul2000\workflow\events\WorkflowEvent</a>[]</code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getEventSequence">#</a>
			<code>getEventSequence( <span>string <var>$status</var></span> )</code>

			<div class="description short">
				<p>Creates and returns the list of events that will be fire when the owner model is sent from its current
status to the one passed as argument.</p>
			</div>

			<div class="description detailed hidden">
				<p>Creates and returns the list of events that will be fire when the owner model is sent from its current
status to the one passed as argument.</p>

<p>The event list returned by this method depends on the event sequence component that was configured for
this behavior at construction time.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$status</var></dt>
						<dd>the target status</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-raoul2000.workflow.events.WorkflowEvent.html">raoul2000\workflow\events\WorkflowEvent</a>[]</code><br>The list of events
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getScenarioSequence" id="_getScenarioSequence">

			<td class="attributes"><code>
				 public 
				string[]
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getScenarioSequence">#</a>
			<code>getScenarioSequence( <span>string <var>$status</var></span> )</code>

			<div class="description short">
				<p>Creates and returns the list of scenario names that will be used to validate the owner model when it is
sent from its current status to the one passed as argument.</p>
			</div>

			<div class="description detailed hidden">
				<p>Creates and returns the list of scenario names that will be used to validate the owner model when it is
sent from its current status to the one passed as argument.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$status</var></dt>
						<dd>the target status</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						string[]<br>list of scenario names
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="createTransitionItems" id="_createTransitionItems">

			<td class="attributes"><code>
				 public 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_createTransitionItems">#</a>
			<code>createTransitionItems( <span>mixed <var>$status</var></span>, <span>boolean <var>$WithScenarioNames</var></span>, <span>boolean <var>$withEventSequence</var></span> )</code>

			<div class="description short">
				<p>Creates and returns workflow event sequence and/or scenario for the pending transition.</p>
			</div>

			<div class="description detailed hidden">
				<p>Creates and returns workflow event sequence and/or scenario for the pending transition.</p>

<p>Being given the current status and the status value passed as argument this method returns the corresponding
event sequence and the scenario names.</p>

<p>The returned array contains up to 3 elements :
- index = 0 : the Status instance corresponding to the $status passed as argument
- index = 1 : an array of [[\raoul2000\workflow\events\WorkflowEvent]] instances (the event sequence) that
may contain no element if no event  sequence component is configured or if event sequence are not requested ($withEventSequence = false)
- index = 2 : an array of scenario names (string) that may be empty if scenario names are not requested ($WithScenarioNames= false)</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$status</var></dt>
						<dd>a status Id or a Status instance considered as the target status to reach</dd>
						<dt><var>$WithScenarioNames</var></dt>
						<dd>When TRUE scenario names are requested, FALSE otherwise</dd>
						<dt><var>$withEventSequence</var></dt>
						<dd>When TRUE the event sequence is requested, FALSE otherwise</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						array<br>Three elements : Status intance, scenario names, event sequence.
					</div>

					<h4>Throws</h4>
					<div class="list">
						<code><a href="class-raoul2000.workflow.base.WorkflowException.html">raoul2000\workflow\base\WorkflowException</a></code>
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="getNextStatuses" id="_getNextStatuses">

			<td class="attributes"><code>
				 public 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getNextStatuses">#</a>
			<code>getNextStatuses( <span> <var>$validate</var> = <span class="php-keyword1">false</span></span>, <span> <var>$beforeEvents</var> = <span class="php-keyword1">false</span></span> )</code>

			<div class="description short">
				<p>Returns all status that can be reached from the current status.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns all status that can be reached from the current status.</p>

<p>The list of reachable statuses is returned as an array where keys are status ids and value is an associative
array that contains at least the status instance. By default, no validation is performed and no event is fired by this method, however you may use
$validate and $beforeEvents argument to enable them.</p>

<p>When $validate is true, the model is validated for each scenario and for each possible transition.
When $beforeEvents is true, all "before" events are fired and if a handler is attached it is executed.</p>

<p>Each entry of the returned array has the following structure :</p>

<pre>[
    targetStatusId =&gt; [
        <span class="php-quote">'status'</span> =&gt; the status instance
        <span class="php-comment">// the 'validation' key is present only if $validate is true</span>
        <span class="php-quote">'validation'</span> =&gt; [
            <span class="php-num">0</span> =&gt; [
                 <span class="php-quote">'scenario'</span> =&gt; scenario name
                <span class="php-quote">'success'</span> =&gt; <span class="php-keyword1">true</span> (validation success) | <span class="php-keyword1">false</span> (validation failure) | <span class="php-keyword1">null</span> (no validation <span class="php-keyword1">for</span> this scenario)
            ],
            <span class="php-num">1</span> =&gt; [ ... ]
         ],
         <span class="php-comment">// the 'event' key is present only if $beforeEvent is TRUE</span>
         <span class="php-quote">'event'</span> =&gt; [
            <span class="php-num">0</span> =&gt; [
                <span class="php-quote">'name'</span> =&gt; event name
                <span class="php-quote">'success'</span> =&gt; <span class="php-keyword1">true</span> (event handler success) | <span class="php-keyword1">false</span> (event handler failed : the event has been invalidated) | <span class="php-keyword1">null</span> (no event handler)
            ]
            <span class="php-num">1</span> =&gt; [...]
        ],
        <span class="php-comment">// if $validate is true or if $beforeEvent is TRUE</span>
       <span class="php-quote">'isValid'</span> =&gt; <span class="php-keyword1">true</span>   (being given the verifications that were done, the target status can be reached)
          | <span class="php-keyword1">false</span> (being given the verifications that were done, the target status cannot be reached)
    ],
     anotherStatusID =&gt; [ ...]
]</pre>

<p>If the owner model is not currently in a workflow, this method returns the initial status of its default
workflow for the model.</p>



					<h4>Returns</h4>
					<div class="list">
						array<br>list of status
					</div>

					<h4>Throws</h4>
					<div class="list">
						<code><a href="class-raoul2000.workflow.base.WorkflowException.html">raoul2000\workflow\base\WorkflowException</a></code>
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="getDefaultWorkflowId" id="_getDefaultWorkflowId">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getDefaultWorkflowId">#</a>
			<code>getDefaultWorkflowId( )</code>

			<div class="description short">
				<p>Returns the id of the default workflow associated with the owner model.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the id of the default workflow associated with the owner model.</p>

<p>If no default workflow id has been configured, it is created by using the
shortname of the owner model class (i.e. the class name without the namespace part),
suffixed with 'Workflow'.</p>

<p>For instance, class <code>app\model\Post</code> has a default workflow id equals to <strong>PostWorkflow</strong>.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>id for the workflow the owner model is in.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getWorkflowSource" id="_getWorkflowSource">

			<td class="attributes"><code>
				 public 
				<code><a href="class-raoul2000.workflow.source.IWorkflowSource.html">raoul2000\workflow\source\IWorkflowSource</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getWorkflowSource">#</a>
			<code>getWorkflowSource( )</code>

			<div class="description short">
				<p>Returns the <em>Workflow Source Component</em> used by this behavior.
This component is initialized by the [[$source]] configuration property. If not configured, the behavior creates
and register its own workflow source component.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the <em>Workflow Source Component</em> used by this behavior.
This component is initialized by the [[$source]] configuration property. If not configured, the behavior creates
and register its own workflow source component.</p>



					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-raoul2000.workflow.source.IWorkflowSource.html">raoul2000\workflow\source\IWorkflowSource</a></code><br>the workflow source component instance used by this behavior
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getStatusAccessor" id="_getStatusAccessor">

			<td class="attributes"><code>
				 public 
				null|<code><a href="class-raoul2000.workflow.base.IStatusAccessor.html">raoul2000\workflow\base\IStatusAccessor</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getStatusAccessor">#</a>
			<code>getStatusAccessor( )</code>

			<div class="description short">
				<p>Returns the status accessor instance used by this behavior or NULL
if no status accessor is used.
This component is initialized by the [[$statusAccessor]] configuration property.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the status accessor instance used by this behavior or NULL
if no status accessor is used.
This component is initialized by the [[$statusAccessor]] configuration property.</p>



					<h4>Returns</h4>
					<div class="list">
						null|<code><a href="class-raoul2000.workflow.base.IStatusAccessor.html">raoul2000\workflow\base\IStatusAccessor</a></code><br><p>the status accessor component used bu the behavior
or NULL if not configured (default)</p>
					</div>

					<h4>Throws</h4>
					<div class="list">
						yii\base\InvalidConfigException
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="getStatusConverter" id="_getStatusConverter">

			<td class="attributes"><code>
				 public 
				null|<code><a href="class-raoul2000.workflow.base.IStatusIdConverter.html">raoul2000\workflow\base\IStatusIdConverter</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getStatusConverter">#</a>
			<code>getStatusConverter( )</code>

			<div class="description short">
				<p>Returns the status converter instance used by this behavior or NULL
if no status converter is used.
This component is initialized by the [[$statusConverter]] configuration property.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the status converter instance used by this behavior or NULL
if no status converter is used.
This component is initialized by the [[$statusConverter]] configuration property.</p>



					<h4>Returns</h4>
					<div class="list">
						null|<code><a href="class-raoul2000.workflow.base.IStatusIdConverter.html">raoul2000\workflow\base\IStatusIdConverter</a></code><br><p>The status Id Converter used by the behavior or
NULL if not configured (default)</p>
					</div>

					<h4>Throws</h4>
					<div class="list">
						yii\base\InvalidConfigException
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="getWorkflowStatus" id="_getWorkflowStatus">

			<td class="attributes"><code>
				 public 
				null|<code><a href="class-raoul2000.workflow.base.Status.html">raoul2000\workflow\base\Status</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getWorkflowStatus">#</a>
			<code>getWorkflowStatus( )</code>

			<div class="description short">
				<p>Returns the current Status instance.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the current Status instance.</p>



					<h4>Returns</h4>
					<div class="list">
						null|<code><a href="class-raoul2000.workflow.base.Status.html">raoul2000\workflow\base\Status</a></code><br>The status instance or NULL if the model is not in a workflow
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="class-raoul2000.workflow.base.SimpleWorkflowBehavior.html#_hasWorkflowStatus">raoul2000\workflow\base\SimpleWorkflowBehavior::hasWorkflowStatus()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="getWorkflow" id="_getWorkflow">

			<td class="attributes"><code>
				 public 
				null|<code><a href="class-raoul2000.workflow.base.Workflow.html">raoul2000\workflow\base\Workflow</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getWorkflow">#</a>
			<code>getWorkflow( )</code>

			<div class="description short">
				<p>Returns the current Workflow instance the model is in or NULL if the model is not in a workflow.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the current Workflow instance the model is in or NULL if the model is not in a workflow.</p>



					<h4>Returns</h4>
					<div class="list">
						null|<code><a href="class-raoul2000.workflow.base.Workflow.html">raoul2000\workflow\base\Workflow</a></code><br><p>the workflow the owner model is currently in, or null if the owner
model is not in a workflow</p>
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="hasWorkflowStatus" id="_hasWorkflowStatus">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_hasWorkflowStatus">#</a>
			<code>hasWorkflowStatus( )</code>

			<div class="description short">
				<p>Returns a value indicating whether the owner model is currently in a workflow or not.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns a value indicating whether the owner model is currently in a workflow or not.</p>



					<h4>Returns</h4>
					<div class="list">
						boolean<br>TRUE if the owner model is in a workflow, FALSE otherwise
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="statusEquals" id="_statusEquals">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_statusEquals">#</a>
			<code>statusEquals( <span><code><a href="class-raoul2000.workflow.base.Status.html">raoul2000\workflow\base\Status</a></code>|string <var>$status</var> = <span class="php-keyword1">null</span></span> )</code>

			<div class="description short">
				<p>Tests if the current status is equal to the status passed as argument.</p>
			</div>

			<div class="description detailed hidden">
				<p>Tests if the current status is equal to the status passed as argument.</p>

<p>TRUE is returned when :</p>

<ul>
<li>$status is empty and the owner model has no current status</li>
<li>$status is not empty and refers to the same status as the current one</li>
</ul>

<p>All other condition return FALSE.</p>

<p>This method can be invoked passing a string or a [[Status]] instance argument.</p>

<p>Example :</p>

<pre><span class="php-var">$post</span>-&gt;statusEquals(<span class="php-quote">'draft'</span>);
       <span class="php-var">$post</span>-&gt;statusEquals(<span class="php-var">$otherPost</span>-&gt;getWorkflowStatus());</pre>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$status</var></dt>
						<dd>the status to test</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="isAttachedTo" id="_isAttachedTo">

			<td class="attributes"><code>
				 public static
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_isAttachedTo">#</a>
			<code>isAttachedTo( <span>yii\db\BaseActiveRecord <var>$model</var></span> )</code>

			<div class="description short">
				<p>Tests that a <code>SimpleWorkflowBehavior</code> behavior is attached to the object passed as argument.</p>
			</div>

			<div class="description detailed hidden">
				<p>Tests that a <code>SimpleWorkflowBehavior</code> behavior is attached to the object passed as argument.</p>

<p>This method returns FALSE if $model is not an instance of yii\base\Component  or if none of its
attached behaviors is a or inherit from SimpleWorkflowBehavior.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$model</var></dt>
						<dd>the model to test.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean<br>TRUE if at least one SimpleWorkflowBehavior behavior is attached to $model, FALSE otherwise
					</div>




			</div>
			</div></td>
		</tr>
			</table>
		</div>








		<div class="panel panel-default">
            <div class="panel-heading"><h2>Constants summary</h2></div>
			<table class="summary table table-bordered table-striped constants" id="constants">
			<tr data-order="DEFAULT_SOURCE_CLASS" id="DEFAULT_SOURCE_CLASS">

				<td class="attributes"><code>string</code></td>
				<td class="name">
					<code>
<b>DEFAULT_SOURCE_CLASS</b>					</code>

					<div class="description short">
						<p>Name of the class used to instantiate the default workflow source component if not
configured.</p>
					</div>

					<div class="description detailed hidden">
						<p>Name of the class used to instantiate the default workflow source component if not
configured.</p>

					</div>
				</td>
				<td class="value">
					<div>
						<a href="#DEFAULT_SOURCE_CLASS" class="anchor">#</a>
						<code><span class="php-quote">'raoul2000\workflow\source\file\WorkflowFileSource'</span></code>
					</div>
				</td>
			</tr>
			<tr data-order="DEFAULT_EVENT_SEQUENCE_CLASS" id="DEFAULT_EVENT_SEQUENCE_CLASS">

				<td class="attributes"><code>string</code></td>
				<td class="name">
					<code>
<b>DEFAULT_EVENT_SEQUENCE_CLASS</b>					</code>

					<div class="description short">
						<p>Name of the class used to instantiate the default event sequence if not
configured.</p>
					</div>

					<div class="description detailed hidden">
						<p>Name of the class used to instantiate the default event sequence if not
configured.</p>

					</div>
				</td>
				<td class="value">
					<div>
						<a href="#DEFAULT_EVENT_SEQUENCE_CLASS" class="anchor">#</a>
						<code><span class="php-quote">'raoul2000\workflow\events\BasicEventSequence'</span></code>
					</div>
				</td>
			</tr>
			<tr data-order="EVENT_BEFORE_CHANGE_STATUS" id="EVENT_BEFORE_CHANGE_STATUS">

				<td class="attributes"><code>string</code></td>
				<td class="name">
					<code>
<b>EVENT_BEFORE_CHANGE_STATUS</b>					</code>

					<div class="description short">
						<p>Name of the default workflow event fired before the owner model change status.</p>
					</div>

					<div class="description detailed hidden">
						<p>Name of the default workflow event fired before the owner model change status.</p>

					</div>
				</td>
				<td class="value">
					<div>
						<a href="#EVENT_BEFORE_CHANGE_STATUS" class="anchor">#</a>
						<code><span class="php-quote">'EVENT_BEFORE_CHANGE_STATUS'</span></code>
					</div>
				</td>
			</tr>
			<tr data-order="EVENT_AFTER_CHANGE_STATUS" id="EVENT_AFTER_CHANGE_STATUS">

				<td class="attributes"><code>string</code></td>
				<td class="name">
					<code>
<b>EVENT_AFTER_CHANGE_STATUS</b>					</code>

					<div class="description short">
						<p>Name of the default workflow event fired after the owner model change status.</p>
					</div>

					<div class="description detailed hidden">
						<p>Name of the default workflow event fired after the owner model change status.</p>

					</div>
				</td>
				<td class="value">
					<div>
						<a href="#EVENT_AFTER_CHANGE_STATUS" class="anchor">#</a>
						<code><span class="php-quote">'EVENT_AFTER_CHANGE_STATUS'</span></code>
					</div>
				</td>
			</tr>
			</table>
		</div>




		<div class="panel panel-default">
            <div class="panel-heading"><h2>Properties summary</h2></div>
			<table class="summary table table-bordered table-striped properties" id="properties">
		<tr data-order="statusAttribute" id="$statusAttribute">
			<td class="attributes"><code>
				public  
				string
			</code></td>

			<td class="name">
<var>$statusAttribute</var>
				<div class="description short">
					<p>name of the owner model attribute used to store the current status value. It is also possible
to use a model property but in this case you must provide a suitable status accessor component that will handle
status persistence.</p>
				</div>

				<div class="description detailed hidden">
					<p>name of the owner model attribute used to store the current status value. It is also possible
to use a model property but in this case you must provide a suitable status accessor component that will handle
status persistence.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$statusAttribute" class="anchor">#</a>
					<code><span class="php-quote">'status'</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="source" id="$source">
			<td class="attributes"><code>
				public  
				string
			</code></td>

			<td class="name">
<var>$source</var>
				<div class="description short">
					<p>name of the workflow source component to use with the behavior</p>
				</div>

				<div class="description detailed hidden">
					<p>name of the workflow source component to use with the behavior</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$source" class="anchor">#</a>
					<code><span class="php-quote">'workflowSource'</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="statusConverter" id="$statusConverter">
			<td class="attributes"><code>
				public  
				null|string|array|object
			</code></td>

			<td class="name">
<var>$statusConverter</var>
				<div class="description short">
					<p>The status converter component definition or NULL (default) if no
status converter is used by this behavior.<br/>
When not null, the value of this attribute can be specified in one of the following forms :</p>

<ul>
<li>string : name of an existing status converter component registered in the current Yii::$app.</li>
<li>object : the instance of the status converter</li>
</ul>

<p>Note that the status converter configured here must implement the
<code>raoul2000\workflow\base\IStatusIdConverter</code> interface.</p>
				</div>

				<div class="description detailed hidden">
					<p>The status converter component definition or NULL (default) if no
status converter is used by this behavior.<br/>
When not null, the value of this attribute can be specified in one of the following forms :</p>

<ul>
<li>string : name of an existing status converter component registered in the current Yii::$app.</li>
<li>object : the instance of the status converter</li>
</ul>

<p>Note that the status converter configured here must implement the
<code>raoul2000\workflow\base\IStatusIdConverter</code> interface.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$statusConverter" class="anchor">#</a>
					<code><span class="php-keyword1">null</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="statusAccessor" id="$statusAccessor">
			<td class="attributes"><code>
				public  
				null|string|array|object
			</code></td>

			<td class="name">
<var>$statusAccessor</var>
				<div class="description short">
					<p>The status accessor component definition or NULL (default) if no
status accessor is used by this behavior.<br/>
When not null, the value of this attribute can be specified in one of the following forms :</p>

<ul>
<li>string : name of an existing status accessor component registered in the current Yii::$app.</li>
<li>object : the instance of the status converter</li>
</ul>

<p>Note that the status accessor configured here must implement the
<code>raoul2000\workflow\base\IStatusAccessor</code> interface.</p>
				</div>

				<div class="description detailed hidden">
					<p>The status accessor component definition or NULL (default) if no
status accessor is used by this behavior.<br/>
When not null, the value of this attribute can be specified in one of the following forms :</p>

<ul>
<li>string : name of an existing status accessor component registered in the current Yii::$app.</li>
<li>object : the instance of the status converter</li>
</ul>

<p>Note that the status accessor configured here must implement the
<code>raoul2000\workflow\base\IStatusAccessor</code> interface.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$statusAccessor" class="anchor">#</a>
					<code><span class="php-keyword1">null</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="eventSequence" id="$eventSequence">
			<td class="attributes"><code>
				public  
				string
			</code></td>

			<td class="name">
<var>$eventSequence</var>
				<div class="description short">
					<p>name of the event sequence provider component. If the component does not exist it is created
by this behavior using the default event sequence class.
Set this attribute to NULL if you are not going to use any Workflow Event.</p>
				</div>

				<div class="description detailed hidden">
					<p>name of the event sequence provider component. If the component does not exist it is created
by this behavior using the default event sequence class.
Set this attribute to NULL if you are not going to use any Workflow Event.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$eventSequence" class="anchor">#</a>
					<code><span class="php-quote">'eventSequence'</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="autoInsert" id="$autoInsert">
			<td class="attributes"><code>
				public  
				boolean|string
			</code></td>

			<td class="name">
<var>$autoInsert</var>
				<div class="description short">
					<p>(<strong>not enabled</strong>) if TRUE, the model is automatically inserted into the default workflow. If
<code>$autoInsert</code> contains a string, it is assumed to be an initial status Id that will be used to set the
status. If FALSE (default) the status is not modified.</p>
				</div>

				<div class="description detailed hidden">
					<p>(<strong>not enabled</strong>) if TRUE, the model is automatically inserted into the default workflow. If
<code>$autoInsert</code> contains a string, it is assumed to be an initial status Id that will be used to set the
status. If FALSE (default) the status is not modified.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$autoInsert" class="anchor">#</a>
					<code><span class="php-keyword1">false</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="propagateErrorsToModel" id="$propagateErrorsToModel">
			<td class="attributes"><code>
				public  
				boolean
			</code></td>

			<td class="name">
<var>$propagateErrorsToModel</var>
				<div class="description short">
					<p>If TRUE, all errors that may be registred on an invalidated 'before' event, are assigned to
the status attribute of the owner model.</p>
				</div>

				<div class="description detailed hidden">
					<p>If TRUE, all errors that may be registred on an invalidated 'before' event, are assigned to
the status attribute of the owner model.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$propagateErrorsToModel" class="anchor">#</a>
					<code><span class="php-keyword1">false</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="stopOnFirstInvalidEvent" id="$stopOnFirstInvalidEvent">
			<td class="attributes"><code>
				public  
				boolean
			</code></td>

			<td class="name">
<var>$stopOnFirstInvalidEvent</var>
				<div class="description short">
					<p>if TRUE, all "before" events are fired even if one of them is invalidated by an attached handler.
When FALSE, the first invalidated event interrupts the event sequence. Note that if an event is attached to
several handlers, they will all be invoked unless the event is invalidated and marked as handled.</p>
				</div>

				<div class="description detailed hidden">
					<p>if TRUE, all "before" events are fired even if one of them is invalidated by an attached handler.
When FALSE, the first invalidated event interrupts the event sequence. Note that if an event is attached to
several handlers, they will all be invoked unless the event is invalidated and marked as handled.</p>

						<h4>See</h4>
						<div class="list">
								WorkflowEvent::invalidate()<br>
						</div>
				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$stopOnFirstInvalidEvent" class="anchor">#</a>
					<code><span class="php-keyword1">true</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="fireDefaultEvent" id="$fireDefaultEvent">
			<td class="attributes"><code>
				public  
				boolean
			</code></td>

			<td class="name">
<var>$fireDefaultEvent</var>
				<div class="description short">
					<p>When TRUE, a default event is fired on each status change, including when the model enters or leaves the
workflow and even if no event sequence is configured. When FALSE the default event is not fired.</p>
				</div>

				<div class="description detailed hidden">
					<p>When TRUE, a default event is fired on each status change, including when the model enters or leaves the
workflow and even if no event sequence is configured. When FALSE the default event is not fired.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$fireDefaultEvent" class="anchor">#</a>
					<code><span class="php-keyword1">true</span></code>
				</div>
			</td>
		</tr>
			</table>
		</div>






</div>
	</div>

	<div id="footer">
		yii2-workflow Class Reference API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
